{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { helpHttp } from \"../helpers/helpHttp\";\nexport const useForm = (initialForm, validateForm) => {\n  _s();\n\n  const [form, setForm] = useState(initialForm);\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [response, setResponse] = useState(null);\n\n  const redirect = () => {\n    window.location.href = \"./thanks\";\n  };\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setForm({ ...form,\n      [name]: value\n    });\n  };\n\n  const handleBlur = e => {\n    handleChange(e);\n    setErrors(validateForm(form));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setErrors(validateForm(form));\n\n    if (Object.keys(errors).length === 0) {\n      setLoading(true);\n      helpHttp().post(\"https://formsubmit.co/ajax/sandra@skyalert.mx\", {\n        body: form,\n        headers: {\n          \"Content-type\": \"application/json\",\n          Accept: \"application/json\"\n        }\n      }).then(res => {\n        setLoading(false);\n        setResponse(true);\n      });\n      setTimeout(redirect(), 2000);\n    } else {\n      return;\n    }\n  };\n\n  return {\n    form,\n    errors,\n    loading,\n    response,\n    handleChange,\n    handleBlur,\n    handleSubmit\n  };\n};\n\n_s(useForm, \"HySTwIkx0xEyE+U1bb3xQuyei8s=\");","map":{"version":3,"names":["useState","helpHttp","useForm","initialForm","validateForm","form","setForm","errors","setErrors","loading","setLoading","response","setResponse","redirect","window","location","href","handleChange","e","name","value","target","handleBlur","handleSubmit","preventDefault","Object","keys","length","post","body","headers","Accept","then","res","setTimeout"],"sources":["/Users/mac/Documents/nuevo/src/hooks/useForm.js"],"sourcesContent":["import {useState} from \"react\";\r\nimport { helpHttp } from \"../helpers/helpHttp\";\r\nexport const useForm = (initialForm, validateForm) => {\r\n    const [form, setForm] = useState(initialForm);\r\n    const [errors, setErrors] = useState({});\r\n    const [loading, setLoading] = useState(false);\r\n    const [response, setResponse] = useState(null);\r\n    const redirect = () => {\r\n        window.location.href = \"./thanks\";\r\n    }\r\n    const handleChange = (e) => {\r\n        const{name,value} = e.target;\r\n        setForm({\r\n            ...form,\r\n            [name]:value\r\n        });\r\n    };\r\n\r\n    const handleBlur = (e) => {\r\n        handleChange(e);\r\n        setErrors(validateForm(form));\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        setErrors(validateForm(form));\r\n\r\n        if(Object.keys(errors).length === 0){\r\n            setLoading(true);\r\n            helpHttp().post(\"https://formsubmit.co/ajax/sandra@skyalert.mx\", {\r\n                body: form,\r\n                headers:{\r\n                    \"Content-type\":\"application/json\",\r\n                    Accept:\"application/json\",\r\n                },\r\n            })\r\n            .then((res) => {\r\n                setLoading(false);\r\n                setResponse(true);\r\n            },\r\n            )\r\n            setTimeout(redirect(), 2000);\r\n        }else{\r\n            return;\r\n        }\r\n    };\r\n\r\n    return{\r\n        form,\r\n        errors,\r\n        loading,\r\n        response,\r\n        handleChange,\r\n        handleBlur,\r\n        handleSubmit,\r\n    };\r\n};\r\n"],"mappings":";;AAAA,SAAQA,QAAR,QAAuB,OAAvB;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,OAAO,MAAMC,OAAO,GAAG,CAACC,WAAD,EAAcC,YAAd,KAA+B;EAAA;;EAClD,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAACG,WAAD,CAAhC;EACA,MAAM,CAACI,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACS,OAAD,EAAUC,UAAV,IAAwBV,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACW,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,IAAD,CAAxC;;EACA,MAAMa,QAAQ,GAAG,MAAM;IACnBC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,UAAvB;EACH,CAFD;;EAGA,MAAMC,YAAY,GAAIC,CAAD,IAAO;IACxB,MAAK;MAACC,IAAD;MAAMC;IAAN,IAAeF,CAAC,CAACG,MAAtB;IACAf,OAAO,CAAC,EACJ,GAAGD,IADC;MAEJ,CAACc,IAAD,GAAOC;IAFH,CAAD,CAAP;EAIH,CAND;;EAQA,MAAME,UAAU,GAAIJ,CAAD,IAAO;IACtBD,YAAY,CAACC,CAAD,CAAZ;IACAV,SAAS,CAACJ,YAAY,CAACC,IAAD,CAAb,CAAT;EACH,CAHD;;EAKA,MAAMkB,YAAY,GAAIL,CAAD,IAAO;IACxBA,CAAC,CAACM,cAAF;IACAhB,SAAS,CAACJ,YAAY,CAACC,IAAD,CAAb,CAAT;;IAEA,IAAGoB,MAAM,CAACC,IAAP,CAAYnB,MAAZ,EAAoBoB,MAApB,KAA+B,CAAlC,EAAoC;MAChCjB,UAAU,CAAC,IAAD,CAAV;MACAT,QAAQ,GAAG2B,IAAX,CAAgB,+CAAhB,EAAiE;QAC7DC,IAAI,EAAExB,IADuD;QAE7DyB,OAAO,EAAC;UACJ,gBAAe,kBADX;UAEJC,MAAM,EAAC;QAFH;MAFqD,CAAjE,EAOCC,IAPD,CAOOC,GAAD,IAAS;QACXvB,UAAU,CAAC,KAAD,CAAV;QACAE,WAAW,CAAC,IAAD,CAAX;MACH,CAVD;MAYAsB,UAAU,CAACrB,QAAQ,EAAT,EAAa,IAAb,CAAV;IACH,CAfD,MAeK;MACD;IACH;EACJ,CAtBD;;EAwBA,OAAM;IACFR,IADE;IAEFE,MAFE;IAGFE,OAHE;IAIFE,QAJE;IAKFM,YALE;IAMFK,UANE;IAOFC;EAPE,CAAN;AASH,CAtDM;;GAAMrB,O"},"metadata":{},"sourceType":"module"}